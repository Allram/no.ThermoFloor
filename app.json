{
	"id": "no.thermofloor",
	"name": {
		"en": "Thermo-Floor AS",
		"nl": "Thermo-Floor AS"
	},
	"version": "0.1.2",
	"compatibility": ">=1.0.5",
	"author": {
		"name": "Ted Tolboom",
		"email": "dTNL.Homey@gmail.com"
	},
	"contributors": {
		"developers": [
			{
				"name": "Ted Tolboom",
				"email": "dTNL.Homey@gmail.com"
			}
		]
	},
	"category": [
		"climate"
	],
	"tags": {
		"en": [
			"central heating",
			"floor heating",
			"electrical floor heating",
			"heat",
			"cooling",
			"thermostat",
			"temperature control",
			"Multireg",
			"Heatit",
			"Heat it",
			"Magnum",
			"underfloor heating"
		],
		"nl": [
			"centrale verwarming",
			"vloerverwarming",
			"vloer verwarming",
			"electrische vloerverwarming",
			"warmte",
			"koelen",
			"thermostaat",
			"temperatuur regeling",
			"Multireg",
			"Heatit",
			"Heat it",
			"Magnum"
		]
	},
	"description": {
		"en": "Drivers for Thermo-Floor AS (Heatit) devices",
		"nl": "Drivers voor Thermo-Floor AS (Heatit) apparaten"
	},
	"images": {
		"large": "/assets/images/large.jpg",
		"small": "/assets/images/small.jpg"
	},
	"flow": {
		"triggers": [
			{
				"id": "thermofloor_mode_changed",
				"title": {
					"en": "Thermostatic mode has changed",
					"nl": "Thermostaat modus is veranderd"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=TF_Thermostat"
					}
				],
				"tokens": [
					{
						"name": "mode",
						"title": {
							"en": "ID",
							"nl": "ID"
						},
						"example": {
							"en": "Heat"
						}
					},
					{
						"name": "mode_name",
						"title": {
							"en": "Name",
							"nl": "Naam"
						},
						"example": {
							"en": "Comfortable",
							"nl": "Comfortabel"
						}
					}
				]
			},
			{
				"id": "thermofloor_mode_changed_to",
				"title": {
					"en": "Thermostatic mode has changed to",
					"nl": "Thermostaat modus is veranderd naar"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=TF_Thermostat"
					},
					{
						"name": "mode",
						"type": "dropdown",
						"values": [
							{
								"id": "Off",
								"label": {
									"en": "Off (6째C)",
									"nl": "Uit (6째C)"
								}
							},
							{
								"id": "Heat",
								"label": {
									"en": "Comfortable",
									"nl": "Comfortabel"
								}
							},
							{
								"id": "Energy Save Heat",
								"label": {
									"en": "Economic",
									"nl": "Economische"
								}
							},
							{
								"id": "Cool",
								"label": {
									"en": "Cooling",
									"nl": "Koelen"
								}
							}
						]
					}
				]
			}
		]
	},
	"capabilities": {
		"thermofloor_onoff": {
			"type": "boolean",
			"title": {
				"en": "State",
				"nl": "Status"
			},
			"desc": {
				"en": "State of the thermostat",
				"nl": "Status van de thermostaat"
			},
			"getable": true,
			"setable": false,
			"greyout": true
		},
		"thermofloor_mode": {
			"type": "enum",
			"title": {
				"en": "Thermostat mode",
				"nl": "Thermostaat modus"
			},
			"desc": {
				"en": "Mode of the thermostat",
				"nl": "Modus van de thermostaat"
			},
			"values": [
				{
					"id": "Off",
					"title": {
						"en": "Off (6째C)",
						"nl": "Uit (6째C)"
					}
				},
				{
					"id": "Heat",
					"title": {
						"en": "Comfortable",
						"nl": "Comfortabel"
					}
				},
				{
					"id": "Energy Save Heat",
					"title": {
						"en": "Economic",
						"nl": "Economische"
					}
				},
				{
					"id": "Cool",
					"title": {
						"en": "Cooling",
						"nl": "Koelen"
					}
				}
			],
			"getable": true,
			"setable": true
		}
	},
	"drivers": [
		{
			"id": "TF_Thermostat",
			"name": {
				"en": "Thermo-Floor Z-wave thermostat (Multireg / Heatit)",
				"nl": "Thermo-Floor Z-wave thermostat (Multireg / Heatit)"
			},
			"icon": "/drivers/TF_Thermostat/assets/icon.svg",
			"images": {
				"large": "/drivers/TF_Thermostat/assets/images/large.jpg",
				"small": "/drivers/TF_Thermostat/assets/images/small.jpg"
			},
			"class": "thermostat",
			"capabilities": [
				"measure_temperature",
				"thermofloor_onoff",
				"thermofloor_mode",
				"target_temperature"
			],
			"capabilitiesOptions": {
				"target_temperature": {
					"min": 5,
					"max": 40,
					"step": 0.5
				},
				"thermofloor_onoff": {
					"greyout": true
				}
			},
			"mobile": {
				"components": [
					{
						"id": "icon",
						"capabilities": []
					},
					{
						"id": "sensor",
						"capabilities": [
							"measure_temperature",
							"thermofloor_onoff"
						],
						"options": {
							"icons": {
								"thermofloor_onoff": "/drivers/TF_Thermostat/assets/thermofloor_onoff.svg"
							},
							"thermofloor_onoff": {
								"noblink": false,
								"greyout": true,
								"label": {
									"true": {
										"en": "Active"
									},
									"false": {
										"en": "Idle"
									}
								}
							}
						}
					},
					{
						"id": "picker",
						"capabilities": [
							"thermofloor_mode"
						]
					},
					{
						"id": "thermostat",
						"capabilities": [
							"target_temperature"
						]
					}
				]
			},
			"zwave": {
				"manufacturerId": 411,
				"productTypeId": 1,
				"productId": 1,
				"productDocumentation": "http://products.z-wavealliance.org/ProductManual/File?folder=&filename=Manuals/1182/Manual_Multireg Z-Wave_Ver2015-A.pdf",
				"pid": 1182,
				"imageRemotePath": "http://products.z-wavealliance.org/ProductImages/Index?productName=ZC10-15010002",
				"learnmode": {
					"image": "/drivers/TF_Thermostat/assets/learnmode.svg",
					"instruction": {
						"en": "To include the thermostat to Homey: \n1. press the Center (confirm) button for 10 seconds. The display will show OFF. \n2. Press Right(down) button 5 times till you see Con in the display.\n3. Now start add a device to Homey.\n4. Start inclusion mode by pressing Center(confirm) button for approximately 2 seconds. The inclusion / exclusion icon will appear in the display.\n5. Confirmation will show Inc in the display. If inclusion fails, Err(error) will appear.",
						"nl": "To include the thermostat to Homey: \n1. press the Center (confirm) button for 10 seconds. The display will show OFF. \n2. Press Right(down) button 5 times till you see Con in the display.\n3. Now start add a device to Homey.\n4. Start inclusion mode by pressing Center(confirm) button for approximately 2 seconds. The inclusion / exclusion icon will appear in the display.\n5. Confirmation will show Inc in the display. If inclusion fails, Err(error) will appear."
					}
				},
				"unlearnmode": {
					"image": "/drivers/TF_Thermostat/assets/learnmode.svg",
					"instruction": {
						"en": "To remove the thermostat from Homey: \n1. press the Center (confirm) button for 10 seconds. The display will show OFF. \n2. Press Right(down) button 5 times till you see Con in the display.\n3. Now start to remove the device from Homey.\n4. Start exclusion mode by pressing Center(confirm) button for approximately 2 seconds. The inclusion / exclusion icon will appear in the display.\n5. Confirmation will show EcL in the display. If exclusion fails, Err(error) will appear.",
						"nl": "To remove the thermostat from Homey: \n1. press the Center (confirm) button for 10 seconds. The display will show OFF. \n2. Press Right(down) button 5 times till you see Con in the display.\n3. Now start to remove the device from Homey.\n4. Start exclusion mode by pressing Center(confirm) button for approximately 2 seconds. The inclusion / exclusion icon will appear in the display.\n5. Confirmation will show EcL in the display. If exclusion fails, Err(error) will appear."
					}
				},
				"associationGroups": [
					1,
					2
				],
				"associationGroupsOptions": {
					"1": {
						"hint": {
							"en": "Lifeline. All run-time reporting is addressed to this group. Only one node can be assigned to this association group. \nDefault: 1 (Homey's ID)",
							"nl": "Lifeline: Association Groep 1 wordt gebruikt om alle rapportages door te geven. Slechts een node kan toegevoegd worden aan deze associatie groep. \nStandaard: 1 (Homey's ID)"
						}
					},
					"2": {
						"hint": {
							"en": "On/off  control: This controls external heaters replicating the state of the internal relay. Uses BASIC_SET command, values 0x00 (on) and 0xFF (on).",
							"nl": "On/off  control: This controls external heaters replicating the state of the internal relay. Uses BASIC_SET command, values 0x00 (on) and 0xFF (on)."
						}
					}
				}
			},
			"settings": [
				{
					"id": "operation_mode",
					"type": "dropdown",
					"label": {
						"en": "Thermostat operation mode",
						"nl": "Thermostat operation mode"
					},
					"value": "1",
					"hint": {
						"en": "Thermostat operation mode. (default: Energy save heat (default)",
						"nl": "Thermostat operation mode. (standaard: Energiebesparing)"
					},
					"values": [{
							"id": "0",
							"label": {
								"en": "Off",
								"nl": "Uitgeschakeld"
							}
						},
						{
							"id": "1",
							"label": {
								"en": "Heat (default)",
								"nl": "Verwarmen (standaard)"
							}
						},
						{
							"id": "2",
							"label": {
								"en": "Cool",
								"nl": "Koelen"
							}
						},
						{
							"id": "11",
							"label": {
								"en": "Energy save heat",
								"nl": "Energiebesparing"
							}
						}
					]
				},
				{
					"id": "CO_setpoint",
					"type": "number",
					"attr": {
						"min": 50,
						"max": 400
					},
					"value": 205,
					"label": {
						"en": "CO mode setpoint",
						"nl": "CO mode setpoint"
					},
					"hint": {
						"en": "Temperature setpoint used when in Comfort mode. \nRange: 50 - 400 (5.0C - 40.0C) \nDefault: 205",
						"nl": "Temperature setpoint used when in Comfort mode. \nBereik: 50 - 400 (5.0C - 40.0C)\nStandaard: 205"
					}
				},
				{
					"id": "ECO_setpoint",
					"type": "number",
					"attr": {
						"min": 50,
						"max": 400
					},
					"value": 180,
					"label": {
						"en": "ECO mode setpoint",
						"nl": "ECO mode setpoint"
					},
					"hint": {
						"en": "Temperature setpoint used when in Economy mode. \nRange: 50 - 400 (5.0C - 40.0C) \nDefault: 180",
						"nl": "Temperature setpoint used when in Economy mode. \nBereik: 50 - 400 (5.0C - 40.0C)\nStandaard: 180"
					}
				},
				{
					"id": "COOL_setpoint",
					"type": "number",
					"attr": {
						"min": 50,
						"max": 400
					},
					"value": 210,
					"label": {
						"en": "COOL mode setpoint",
						"nl": "COOL mode setpoint"
					},
					"hint": {
						"en": "Temperature setpoint used when in COOL mode (only if enabled). \nRange: 50 - 400 (5.0C - 40.0C) \nDefault: 210",
						"nl": "Temperature setpoint used when in COOL mode (only if enabled). \nBereik: 50 - 400 (5.0C - 40.0C)\nStandaard: 210"
					}
				},
				{
					"id": "poll_interval",
					"type": "number",
					"attr": {
						"min": 60,
						"max": 3600
					},
					"value": 300,
					"label": {
						"en": "Poll Interval",
						"nl": "Poll Interval"
					},
					"hint": {
						"en": "The amount of seconds between asking the device for a status update, default: 300 [s].",
						"nl": "Aantal seconden tussen het opvragen van een status update aan het apparaat, standaard: 300 [s]."
					}
				}
			]
		}
	]
}
